suma(L,X):-
    L=[Elem|Reszta],
    length(Reszta,Size),
    (   Size =:= 0 -> append([],Elem,X), true
    ;   suma(Reszta,K),
        S is Elem + K,
        append([],S,X)
    ).


œr_aryt(L,X):-
    suma(L,K),
    length(L,Size),
    S is K/Size,
    append([],S,X).


suma_kwadratów_odchyleñ(L,Œrednia,Suma):-
    L = [Elem, Reszta],
    X is Elem - Œrednia,
    K is X*X,
    length(Reszta,Size),
    (   Size =:= 0 -> append([],K,Suma), true
    ;   suma_kwadratów_odchyleñ(Reszta,Œrednia,Sum),
        S is Sum + K,
        append([],S,Suma)
    ).


wariancja(L,X):-
    œr_aryt(L,S),
    suma_kwadratów_odchyleñ(L,S,Suma),
    length(L,Size),
    P is Suma/Size,
    append([],P,X).
